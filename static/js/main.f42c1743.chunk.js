(this["webpackJsonpstock-chart"]=this["webpackJsonpstock-chart"]||[]).push([[0],{1469:function(t,e,i){"use strict";i.r(e);var c=i(1),n=i.n(c),a=i(65),s=i.n(a),r=(i(648),function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,1488)).then((function(e){var i=e.getCLS,c=e.getFID,n=e.getFCP,a=e.getLCP,s=e.getTTFB;i(t),c(t),n(t),a(t),s(t)}))}),o=(i(649),i(368)),l=i(1482),d=i(642),h=i(1484),u=i(1483),j=i(241),b=i(242),f=i(153),k=i(248),p=i(247),m=i(94),x=i.n(m),O=i(638),v=i.n(O),y=i(641),g=i.n(y),C=i(12),N=g()(v.a);var T=function(t){return Object(C.jsx)(N,{data:[{x:t.date,open:t.open,high:t.high,low:t.low,close:t.close,type:"candlestick"},{type:"line",x:t.dateAverage,y:t.average,mode:"lines",line:{width:1,color:"#F00"}}],layout:{autosize:!0,height:540,title:t.ticker}})},w=i(1464);function F(t){var e=t.quotes,i=function(t){var e=[],i=[],c=[],n=[],a=[];return t.forEach((function(t){e.push(t.open),i.push(t.high),c.push(t.low),n.push(t.close),a.push(t.date)})),{open:e.slice(43),high:i.slice(43),low:c.slice(43),close:n.slice(43),date:a.slice(43),average:w(n,44),dateAverage:a.slice(43)}}(e.data);return i.ticker=e.ticker,i}var W=function(t){Object(k.a)(i,t);var e=Object(p.a)(i);function i(t){var c;return Object(j.a)(this,i),(c=e.call(this,t)).state={},c}return Object(b.a)(i,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(t){var e=this;x()("https://stockdataapi.herokuapp.com/ticker/"+t.ticker).then((function(t){console.log(t.data),e.setState(F(t.data))}))}},{key:"render",value:function(){return Object(C.jsx)("div",{children:Object(C.jsx)(T,{open:this.state.open,high:this.state.high,low:this.state.low,close:this.state.close,date:this.state.date,average:this.state.average,dateAverage:this.state.dateAverage,ticker:this.state.ticker})})}}]),i}(c.Component),z=i(1485),A=i(1487),I=i(1486),S=i(1481);var P=function(t){var e=t.tickers,i=e.map((function(e,i){return i==t.current?Object(C.jsx)(z.a.Item,{action:!0,as:"li",active:!0,onClick:function(){return t.updateTicker(i)},children:e}):Object(C.jsx)(z.a.Item,{action:!0,as:"li",onClick:function(){return t.updateTicker(i)},children:e})}));return Object(C.jsxs)("div",{className:"flexbox stocklist",children:[Object(C.jsxs)(A.a,{children:[Object(C.jsx)(A.a.Prev,{className:"buttonnormalize",onClick:function(){return t.updateTicker(t.current-1)},children:"Back"}),Object(C.jsx)(A.a.Next,{className:"buttonnormalize",onClick:function(){return t.updateTicker(t.current+1)},children:"Next"})]}),Object(C.jsx)(A.a,{children:Object(C.jsx)(I.a,{overlay:Object(C.jsx)(S.a,{id:"tooltip-disabled",children:"    Click to copy all tickers!"}),children:Object(C.jsx)(A.a.Next,{className:"buttonnormalize",onClick:function(){var t=document.createElement("input");t.type="text",t.value=e.join(" "),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},children:1+t.current+" of "+t.tickers.length+" Tickers"})})}),Object(C.jsxs)(z.a,{className:"list",vertical:!0,children:[" ",i," "]})]})};var B=function(t){var e=t.tickers;console.log(t.watchlist);var i=Array.from(t.watchlist).map((function(i){return Object(C.jsx)(z.a.Item,{action:!0,as:"li",onClick:function(){return t.updateTicker(i)},children:e[i]})}));return Object(C.jsxs)("div",{children:[Object(C.jsx)(I.a,{overlay:Object(C.jsx)(S.a,{id:"tooltip-disabled",children:"    Click to copy watchlist!"}),children:Object(C.jsx)(z.a.Item,{className:"buttonnormalize",action:!0,style:{textAlign:"center"},variant:"Primary",onClick:function(){var i=document.createElement("input");i.type="text",i.value=Array.from(t.watchlist).map((function(t){return e[t]})).join(" "),document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i)},children:"Watchlist"})}),Object(C.jsxs)(A.a,{children:[Object(C.jsx)(A.a.Prev,{className:"buttonnormalize",onClick:function(){t.addToWatchlist(t.current)},children:"Add"}),Object(C.jsx)(A.a.Next,{className:"buttonnormalize",onClick:function(){t.removeFromWatchlist(t.current)},children:"Remove"})]}),Object(C.jsx)(z.a,{className:"list",vertical:!0,children:i})]})},E=function(t){Object(k.a)(i,t);var e=Object(p.a)(i);function i(t){var c;return Object(j.a)(this,i),(c=e.call(this,t)).state={tickers:["AAPL"],pointer:0,watchlist:new Set},c.updateTicker=c.updateTicker.bind(Object(f.a)(c)),c.addToWatchlist=c.addToWatchlist.bind(Object(f.a)(c)),c.removeFromWatchlist=c.removeFromWatchlist.bind(Object(f.a)(c)),c}return Object(b.a)(i,[{key:"componentDidMount",value:function(){console.log("called"),this.state.tickers=this.props.tickers,this.state.pointer=this.props.pointer,this.setState(this.state)}},{key:"updateTicker",value:function(t){t>=0&&t<this.state.tickers.length&&(this.state.pointer=t,this.setState(this.state))}},{key:"addToWatchlist",value:function(t){this.state.watchlist.add(t),this.setState(this.state)}},{key:"removeFromWatchlist",value:function(t){this.state.watchlist.delete(t),this.setState(this.state)}},{key:"render",value:function(){return console.log(this.state),Object(C.jsxs)("div",{className:"framebox",children:[Object(C.jsx)(P,{className:"tickerlist",updateTicker:this.updateTicker,tickers:this.state.tickers,current:this.state.pointer,addToWatchlist:this.addToWatchlist,removeFromWatchlist:this.removeFromWatchlist}),Object(C.jsx)(W,{className:"chartdisplay",ticker:this.state.tickers.length>0?this.state.tickers[this.state.pointer]:[]}),Object(C.jsx)(B,{watchlist:this.state.watchlist,updateTicker:this.updateTicker,tickers:this.state.tickers,current:this.state.pointer,addToWatchlist:this.addToWatchlist,removeFromWatchlist:this.removeFromWatchlist})]})}}]),i}(c.Component);var M=function(){var t=Object(c.useState)(!1),e=Object(o.a)(t,2),i=e[0],n=e[1],a=Object(c.useState)("undefined"),s=Object(o.a)(a,2),r=s[0],j=s[1],b="undefined",f="https://stockdataapi.herokuapp.com",k=function(t){console.log(t),"50"==t?x()(f+"/nifty/50").then((function(t){b=Object(C.jsx)(E,{pointer:0,tickers:t.data.tickers}),j(b),n(!0)})):"100"==t?x()(f+"/nifty/100").then((function(t){b=Object(C.jsx)(E,{pointer:0,tickers:t.data.tickers}),j(b),n(!0)})):"200"==t?x()(f+"/nifty/200").then((function(t){b=Object(C.jsx)(E,{pointer:0,tickers:t.data.tickers}),j(b),n(!0)})):"500"==t?x()(f+"/nifty/500").then((function(t){b=Object(C.jsx)(E,{pointer:0,tickers:t.data.tickers}),j(b),n(!0)})):-1!=t.indexOf("filtered")&&(console.log("results"),x()(f+"/filter/"+t.split("-")[1]).then((function(t){console.log(t),b=Object(C.jsx)(E,{pointer:0,tickers:t.data.tickers}),j(b),n(!0)})))};return Object(C.jsxs)("div",{className:"flexbox",children:[Object(C.jsxs)(l.a,{vertical:!0,children:[Object(C.jsx)(d.a,{size:"lg",onClick:function(){k("50")},children:"Nifty 50"}),Object(C.jsx)(d.a,{size:"lg",onClick:function(){k("100")},children:"Nifty 100"}),Object(C.jsx)(d.a,{size:"lg",onClick:function(){k("200")},children:"Nifty 200"}),Object(C.jsx)(d.a,{size:"lg",onClick:function(){k("500")},children:"Nifty 500"}),Object(C.jsxs)(h.a,{as:l.a,children:[Object(C.jsx)(d.a,{size:"lg",onClick:function(){k("filtered-50")},children:"Filtered"}),Object(C.jsx)(h.a.Toggle,{split:!0,variant:"success",id:"dropdown-split-basic"}),Object(C.jsxs)(h.a.Menu,{children:[Object(C.jsx)(h.a.Item,{onClick:function(){k("filtered-50")},children:"Filtered Nifty50"}),Object(C.jsx)(h.a.Item,{onClick:function(){k("filtered-100")},children:"Filtered Nifty100"}),Object(C.jsx)(h.a.Item,{onClick:function(){k("filtered-200")},children:"Filtered Nifty200"}),Object(C.jsx)(h.a.Item,{onClick:function(){k("filtered-500")},children:"Filtered Nifty500"})]})]})]}),Object(C.jsxs)(u.a,{className:"flexbox modalclass",backdrop:"static",size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:i,onHide:function(){return n(!1)},children:[Object(C.jsx)(u.a.Header,{closeButton:!0}),Object(C.jsx)("br",{}),r]})]})};s.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(M,{})}),document.getElementById("root")),r()},648:function(t,e,i){},867:function(t,e){},869:function(t,e){},980:function(t,e){}},[[1469,1,2]]]);
//# sourceMappingURL=main.f42c1743.chunk.js.map